#!/usr/bin/env nextflow
nextflow.preview.dsl=2

params.outdir = "."
params.fastqc_args = ''
params.verbose = false

if (params.verbose){
    println ("[WORKFLOW] FASTQC ARGS: "           + params.fastqc_args)
}

// Example command
// nf_fastqc --fastqc_args "'--nogroup --adapter ~/adapter_list_with_contamination_one_off.txt'" *fastq.gz

include './nf_modules/files.mod.nf'
include './nf_modules/fastqc.mod.nf'

file_ch = makeFilesChannel(args) 

workflow {

    main:
        FASTQC(file_ch, params.outdir, params.fastqc_args, params.verbose)
       
}


//file_ch.subscribe{
//    println("Found $it")
//}