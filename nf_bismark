#!/usr/bin/env nextflow
nextflow.preview.dsl=2

params.outdir = "."
params.genome = ""
params.bismark_args = ''

if (params.verbose){
    println ("[WORKFLOW] BISMARK ARGS: "      + params.bismark_args)
}

include './nf_modules/files.mod.nf'
include './nf_modules/genomes.mod.nf'
genome = getGenome(params.genome)

include './nf_modules/bismark.mod.nf'   params(genome: genome)

file_ch = makeFilesChannel(args)

workflow {
    main:
        BISMARK(file_ch, params.outdir, params.bismark_args, params.verbose)
        
}

